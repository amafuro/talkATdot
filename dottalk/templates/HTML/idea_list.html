<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Idea forest</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
</head>
<body>

<!--ヘッダーメニュー-->
<nav class="navbar navbar-expand navbar-dark bg-success sticky-top">
  <div class="collapse navbar-collapse justify-content-center" id="navmenu1">
    <a href="#" class="navbar-brand"><h1>アイデアの森</h1></a>
    <div class="navbar-nav">
        <div class="row justify-content-center">
            <div class="col-auto">
                <a class="nav-item nav-link" href="{% url 'same_users_all' %}">アカウント一覧へ戻る</a>
            </div>
            <div class="col-auto">
                <a class="nav-item nav-link" href="{% url 'idea_new' %}">アイデアを投稿する</a>
            </div>
        </div>
    </div>
  </div>
</nav>

<!--フッターメニュー-->
<div class="container-fluid bg-secondary fixed-bottom">
    <div class="row justify-content-center">
        <div class="col-8 text-center">
            <!--検索フォームの設置、言語に対して検索を行う用-->
            {% csrf_token %}
            <form action="" method="get" class="form-inline m-2">
                <div class="row">
                <div class="input-group">
                    <div class="col-auto me-1">
                        <button type="submit"  name="btn_my_Idea" class="btn btn-success">自分の投稿</button>
                    </div>
                    <div class="col-auto me-3">
                        <button type="submit"  name="btn_reset" class="btn btn-success">リセット</button>
                    </div>
                    <input name="query" value="{{ request.GET.query }}"
                           type="text" class="form-control text-wrap"
                           placeholder="Idea keyword">
                    <button type="submit" class="btn btn-success">検索</button>
                </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!--ページの説明-->
<div class="container-fluid mt-3 mb-3">
    <div class="text-center">
        <div class="row justify-content-center">
            <div class="col-auto">
                <h5><p>
                    色々な人のアイデアを見て、コメントしてみよう。
                </p></h5>
            </div>
            <div class="col-auto">
                <h5><p>
                    <mark>新しい視点が得られるかも。</mark>
                </p></h5>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
<!--最大100件まで表示-->
{% for Idea in object_list|slice:":100"%}

  <div class="col-6">
<div class="card text-center mt-4 border-secondary">
    <div class="card-header border-secondary">
    <h5 class="card-title">{{ Idea.title }}</h5>
  </div>
  <div class="card-body">
      <div class="text-start text-truncate">
        <p class="card-text">{{ Idea.text }}</p>
      </div>
    <a class="stretched-link btn btn-outline-primary mt-3" href="{% url 'idea_detail' Idea.id %}">詳細ページへ</a>
  </div>
  <div class="card-footer text-muted border-secondary">
    ニックネーム：{{ Idea.posted_by }}　　投稿日：{{ Idea.posted_at }}
  </div>
</div></div>
{% empty %}
<div class="mt-3 mb-4">
    <div class="text-center">
        <h5><p>検索条件に一致するアイデアはありませんでした。</p></h5>
    </div>
</div>
{% endfor %}
</div></div>
<!--最大100件まで表示していることを示す。クリックでページトップへ-->
<div class="mt-3 mb-5 pb-5">
    <div class="text-center mb-auto">
        <small>
            <a class="text-muted text-decoration-none" href="#">最新の投稿100件まで表示しています</a>
        </small>
    </div>
</div>

</body>
</html>